
ุงุณุชูุฑุงุฏ  asyncio
ุงุณุชูุฑุงุฏ  ุณูุงู ุงููุต
ุงุณุชูุฑุงุฏ  ูุธุงู ุงูุชุดุบูู
ุงุณุชูุฑุงุฏ  ุงููุธู
ูู  ุฃุณููุณูู . ุงุณุชุซูุงุกุงุช  ุงุณุชูุฑุงุฏ  CancelledError

ุงุณุชูุฑุงุฏ  heroku3
ุงุณุชูุฑุงุฏ  urllib3
ูู  ุจูุงุจุฉ  ุงูุงุณุชูุฑุงุฏ  ุงูุฑูุจู
ูู  ุจูุงุจุฉ . ุจุงุณุชุซูุงุก  ุงุณุชูุฑุงุฏ  GitCommandError ู InvalidGitRepositoryError ู NoSuchPathError

ูู  ุงุณุชูุฑุงุฏ jmub  HEROKU_APP ุ UPSTREAM_REPO_URL ุ jmub 

ูู .. ุชูููู  ุงุณุชูุฑุงุฏ  ุงูุชูููู
ูู .. ุงูุฃุณุงุณูุฉ . ุชุณุฌูู ุงุณุชูุฑุงุฏ  ุงููุณุฌู 
ูู .. ุงูุฃุณุงุณูุฉ . ูููู ุงููุฏูุฑูู  ุจุงุณุชูุฑุงุฏ  edit_delete ู edit_or_reply
ูู .. sql_helper . ุงุณุชูุฑุงุฏ global_collection  (
    add_to_collectionlist ุ
    del_keyword_collectionlist ุ
    get_collectionlist_items ุ
)

cmdhd  =  ุงูุชูููู . COMMAND_HAND_LER
ENV  =  ููุทูู ( ุจูุฆุฉ ูุธุงู ุงูุชุดุบูู . get ( "ENV" ุ False ))
LOGS  =  ุงูุชุณุฌูู . getLogger ( __name__ )

HEROKU_APP_NAME  =  ุงูุชูููู . HEROKU_APP_NAME  ุฃู  ูุง ุดูุก
HEROKU_API_KEY  =  ุงูุชูููู . HEROKU_API_KEY  ุฃู  ูุง ุดูุก
Heroku  =  heroku3 . from_key ( ุงูุชูููู . HEROKU_API_KEY )
heroku_api  =  "https://api.heroku.com"

UPSTREAM_REPO_BRANCH  =  ุงูุชูููู . UPSTREAM_REPO_BRANCH

REPO_REMOTE_NAME  =  "ุงุณู ูุคูุช"
IFFUCI_ACTIVE_BRANCH_NAME  =  "ุฑุฆูุณู"
NO_HEROKU_APP_CFGD  =  "ูู ูุชู ุงูุนุซูุฑ ุนูู ุชุทุจูู heroku ุ ูููู ุชู ุฅุนุทุงุก ุงูููุชุงุญุ ๐"
HEROKU_GIT_REF_SPEC  =  "HEAD: refs / heads / master"
RESTARTING_APP  =  "ุฅุนุงุฏุฉ ุจุฏุก ุชุทุจูู heroku"
IS_SELECTED_DIFFERENT_BRANCH  = (
    "ูุดุจู ุงููุฑุน ุงููุฎุตุต {Branch_name}"
    "ููุฏ ุงูุงุณุชุฎุฏุงู: \ n "
    "ูู ูุฐู ุงูุญุงูุฉ ุ ูุชุนุฐุฑ ุนูู ุงููุญุฏุซ ุชุญุฏูุฏ ุงููุฑุน ุงููุฑุงุฏ ุชุญุฏูุซู."
    "ูุฑุฌู ุงูุชุญูู ูู ุงููุฑุน ุงูุฑุณูู ุ ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุญุฏูุซ."
)


# - ููุงูุฉ ุงูุซูุงุจุช - #

ุฃูุฑููุจ 3 . ุชุนุทูู_ ุชุญุฐูุฑุงุช ( urllib3 . ุงุณุชุซูุงุกุงุช . InsecureRequestWarning )

ุงููุชุทูุจุงุช_ุงููุณุงุฑ  =  ูุธุงู ุงูุชุดุบูู ุงููุณุงุฑ . ุงูุถู (
    ูุธุงู ุงูุชุดุบูู . ุงููุณุงุฑ . ุงุณู ุงูุฏููู ( ูุณุงุฑ ูุธุงู ุงูุชุดุบูู . ุงุณู ุงูุฏููู (ูุณุงุฑ ูุธุงู ุงูุชุดุบูู. ุงุณู ุงูุฏููู ( __ ููู__ ) ) ) ุ " requirements.txt"
)


ุบูุฑ ูุชุฒุงูู  def  gen_chlog ( ุฑูุจู ุ ูุฑู ):
    d_form  =  "ูช d /ูช m /ูช y"
    ุงูุนูุฏุฉ  "" . ุงูุถู (
        ู "โข { ุฌ . ููุฎุต } ( { ุฌ . ููุช_ุงูุชุฒุงู . strftime ( d_form ) } ) < { c . author } > \ n "
        ู  ุฌ  ูู  ุงูุฑูุจู . iter_commits ( ูุฑู )
    )


ุบูุฑ ูุชุฒุงูู  def  print_changelogs ( ุญุฏุซ ุ ac_br ุ ุณุฌู ุงูุชุบููุฑ ):
    changelog_str  = (
        f "** โข ุชููุฑ ุชุญุฏูุซ ุฌุฏูุฏ ููููุฑุช [ { ac_br } ]: \ n \ n ุงูุชุบููุฑุงุช: ** \ n` { changelog } ` "
    )
    ุฅุฐุง ูุงู  len ( changelog_str ) >  4096 :
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชู ูุถุนู ูู ููู ** " ) ุงูุชุบููุฑุงุช ูุซูุฑุฉ ุฌุฏูุง.
        ูุน  ูุชุญ ( "output.txt" ุ " w +" ) ูููู  :
            ููู . ุงููุชุงุจุฉ ( changelog_str )
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุงูุนููู . send_file (
            ุญุฏุซ . chat_id ุ
            "output.txt" ุ
            reply_to = ุญุฏุซ . ูุนุฑู ุ
        )
        ูุธุงู ุงูุชุดุบูู . ุฅุฒุงูุฉ ( "output.txt" )
    ุขุฎุฑ :
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุงูุนููู . send_message (
            ุญุฏุซ . chat_id ุ
            changelog_str ุ
            reply_to = ุญุฏุซ . ูุนุฑู ุ
        )
    ุนูุฏุฉ  ุตุญูุญ


 ุงูุชุญุฏูุซ ุบูุฑ  ุงููุชุฒุงูู update_requirements ():
    reqs  =  str ( requirements_path )
    ุฌุฑุจ :
        ุงูุนูููุฉ  =  ุงูุชุธุงุฑ  ุนุฏู ุงูุชุฒุงูู . create_subprocess_shell (
            "" . ุงูุถู ([ sys . ูุงุจู ููุชูููุฐ ุ "-m" ุ "ููุทุฉ" ุ "ุชุซุจูุช" ุ "-r" ุ reqs ]) ุ
            stdout = ุฃุณููุณูู . ุนูููุฉ ูุฑุนูุฉ . ุงูุฃูุงุจูุจ ุ
            stderr = ุฃุณููุณูู . ุนูููุฉ ูุฑุนูุฉ . ุงูุฃูุงุจูุจ ุ
        )
        ุงูุชุธุงุฑ  ุงูุนูููุฉ . ุงูุชูุงุตู ()
         ุนูููุฉ ุงูุนูุฏุฉ . ุฑูุฒ ุงูุฅุฑุฌุงุน
    ุจุงุณุชุซูุงุก  ุงูุงุณุชุซูุงุก  ูู  e :
        ุฅุนุงุฏุฉ  rep ( ูู )


async  def  update_bot ( event ุ repo ุ ups_rem ุ ac_br ):
    ุฌุฑุจ :
        ups_rem . ุณุญุจ ( ac_br )
    ุจุงุณุชุซูุงุก  GitCommandError :
        ุงูุฑูุจู . ุจูุงุจุฉ . ุฅุนุงุฏุฉ ุชุนููู ( "- Hard" ุ "FETCH_HEAD" )
    ูู ุงูุชุธุงุฑ  update_requirements ()
    ุจูุงูุซูู  =  ุงูุชุธุงุฑ  ุงูุญุฏุซ . ุชุนุฏูู ( "** โข ุชู ุจูุฌุงุญ ุงูุชุญุฏูุซ ุฌุงุฑ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุงู **" )
    ุงูุชุธุฑ  ุงูุญุฏุซ . ุงูุนููู . ุฅุนุงุฏุฉ ุชุญููู ( ุจูุงูุซูู )


 ูุดุฑ ุบูุฑ  ูุชุฒุงูู ( ุญุฏุซ ุ ุงูุฑูุจู ุ ups_rem ุ ac_br ุ txt ):
    ูู   ูุงูุช  HEROKU_API_KEY ุจูุง :
        ูุนูุฏ  ุงูุชุธุงุฑ  ุงูุญุฏุซ . ุชุนุฏูู ( "** โข ูุฑุฌู ูุถุน ูุงุฑ HEROKU_API_KEY ููุชุญุฏูุซ **" )
    ููุฑููู  =  heroku3 . from_key ( HEROKU_API_KEY )
    heroku_applications  =  heroku . ุชุทุจููุงุช ()
    ูู   ูุงูุช  HEROKU_APP_NAME ุจูุง :
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ (
            "** โข ูุฑุฌู ูุถุน ูุฑุฌู ูุถุน ูุงุฑ HEROKU_APP_NAME **  " ูุชุชููู ูู ุชุญุฏูุซ ุงูุณูุฑุณ "
        )
        ุงูุฑูุจู . __del__ ()
        ูุนูุฏ
    heroku_app  =  ุงูุชุงูู (
        ( ุงูุชุทุจูู  ููุชุทุจูู  ูู heroku_applications ุฅุฐุง ูุงู ุงุณู ุงูุชุทุจูู == _       ูุงู HEROKU_APP_NAME
        ูุง ุดูุก ุ
    )

    ุฅุฐุง ูุงู  heroku_app  ูู  ูุง ุดูุก :
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( f " { txt } \ n "  "** โข ุฎุทุฃ ูู ุงูุชุนุฑู ุนูู ุชุทุจูู ููุฑููู **" )
        ุฅุนุงุฏุฉ  ุงูุฑูุจู . __del__ ()
    jmthon  =  ุงูุชุธุงุฑ  ุงูุญุฏุซ . ูุญุฑุฑ (
        "** โข ุฌุงุฑ ุงุนุงุฏุฉ ุชุดุบูู ุงูุฏููู ุงูุงู ูุฑุฌู ุงูุงูุชุธุงุฑ ูู 2-5 ุฏูุงุฆู **"
    )
    ูุญุงูู :
        ulist  =  get_collectionlist_items ()
        ูุฃูู  ูู ulist _   :
            ุฅุฐุง  ููุช  ==  "ุฅุนุงุฏุฉ ุชุดุบูู_ุชุญุฏูุซ" :
                del_keyword_collectionlist ( "reset_update" )
    ุจุงุณุชุซูุงุก  ุงูุงุณุชุซูุงุก  ูู  e :
        ุงูุณุฌูุงุช . ุฎุทุฃ ( ูู )
    ุฌุฑุจ :
        add_to_collectionlist ( "reset_update" ุ [ jmthon . chat_id ุ jmthon . id ])
    ุจุงุณุชุซูุงุก  ุงูุงุณุชุซูุงุก  ูู  e :
        ุงูุณุฌูุงุช . ุฎุทุฃ ( ูู )
    ups_rem . ุฅุญุถุงุฑ ( ac_br )
    ุงูุฑูุจู . ุจูุงุจุฉ . ุฅุนุงุฏุฉ ุชุนููู ( "- Hard" ุ "FETCH_HEAD" )
    heroku_git_url  =  heroku_app . git_url . ุงุณุชุจุฏุงู (
        "https: //" ุ f "https: // api: { HEROKU_API_KEY } @"
    )

    ุฅุฐุง ูุงู  "heroku"  ูู  ุงูุฑูุจู . ุฃุฌูุฒุฉ ุงูุชุญูู ุนู ุจุนุฏ :
        ุจุนูุฏ  =  ุงูุฑูุจู . ุจุนูุฏ ( "heroku" )
        ุจุนูุฏ . set_url ( heroku_git_url )
    ุขุฎุฑ :
        ุจุนูุฏ  =  ุงูุฑูุจู . create_remote ( "heroku" ุ heroku_git_url )
    ุฌุฑุจ :
        ุจุนูุฏ . push ( refspec = "HEAD: refs / head / master" ุ force = True )
    ุจุงุณุชุซูุงุก  ุงุณุชุซูุงุก  ูุฎุทุฃ  _ :
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( f " { txt } \ n ** ุชูุฑูุฑ ุงูุฎุทุฃ: ** \ n` { error ` ")
        ุฅุนุงุฏุฉ  ุงูุฑูุจู . __del__ ()
    build_status  =  heroku_app . ูุจูู ( order_by = "created_at" ุ ุงููุฑุฒ = "desc" ) [ 0 ]
    ุฅุฐุง  build_status . ุงูุญุงูุฉ  ==  "ูุดู" :
        ุงูุนูุฏุฉ  ุชูุชุธุฑ  edit_delete (
            ุญุฏุซ ุ "** โข ุชุญุฏูุซ ุงูุชุญุฏูุซ ** \ n "  "ูุจุฏู ุฃูู ุชู ุงูุบุงุกู ุฃู ุญุตู ุญุตู ูุง"
        )
    ุฌุฑุจ :
        ุจุนูุฏ . push ( "master: main" ุ force = True )
    ุจุงุณุชุซูุงุก  ุงูุงุณุชุซูุงุก  ูุฎุทุฃ  : _
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( f " { txt } \ n ** ุชูุฑูุฑ ุงูุฎุทุฃ: ** \ n` { error } " )
        ุฅุนุงุฏุฉ  ุงูุฑูุจู .__del__ ()
    ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( "** โข ูุดู ุงูุชุญุฏูุซ ุงุฑุณู **` .ุงุนุงุฏุฉ ุชุดุบูู` ** ููุชุญุฏูุซ ** " )
    ูุน  ุณูุงู ุงููุต . ููุน ( CancelledError ):
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุงูุนููู . ูุทุน ุงูุงุชุตุงู ()
        ุฅุฐุง  ูู ููู HEROKU_APP  ุจูุง :  
            HEROKU_APP . ุฅุนุงุฏุฉ ()


@ jmub . ar_cmd ( pattern = "ุชุญุฏูุซ (| ุงูุงู)ุ $" )
ุบูุฑ ูุชุฒุงูู  def  ุงูููุจุน ( ุญุฏุซ ):
    ุฃุณููุท  =  ุญุฏุซ . ุชุทุงุจู_ููุท . ูุฌููุนุฉ ( 1 ).ูุฌุฑุฏ ()
    ุงูุญุฏุซ  =  ุงูุชุธุงุฑ  ุงูุชุญุฑูุฑ ุฃู ุงูุฑุฏ (
        ุญุฏุซ _ "** โข ุฌุงุฑ ุงูุจุญุซ ุนู ุงูุชุญุฏูุซุงุช ูุฑุฌู ุงูุงูุชุธุงุฑ ููููุง **"
    )
    off_repo  =  UPSTREAM_REPO_URL
    force_update  =  ุฎุทุฃ
    ุฅุฐุง ูุงูุช  ENV  ู ( HEROKU_API_KEY  ูุง  ุดูุก  ุฃู  HEROKU_APP_NAME  ูุง  ุดูุก ):
        ุงูุนูุฏุฉ  ูู ุงูุชุธุงุฑ  edit_or_reply (
            ุงูุญุฏุซ ุ "** โข ุนููู ูุถุน ูุงุฑุงุช ููุฑ ูุงุฑู ููุชุญุฏูุซ **"
        )
    ุฌุฑุจ :
        txt  =  "ูุดู ูู ุงูุชุญุฏูุซ ูุณูุฑุณ ุจูุงูุซูู"  +  "** โข ุญุฏุซ ุฎุทุฃ ูุง: ** \ n "

        ุงูุฑูุจู  =  ุงูุฑูุจู ()
    ุจุงุณุชุซูุงุก  NoSuchPathError  ูุฎุทุฃ  : _
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( f " { txt } \ n ุงููุฌูุฏ { ุฎุทุฃ } ูู ูุชู ุฃูุฌุงุฏู" )
        ุฅุนุงุฏุฉ  ุงูุฑูุจู . __del__ ()
    ุจุงุณุชุซูุงุก  GitCommandError  ูุฎุทุฃ  : _
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( f " { txt } \ n ูุดู ูุจูุฑ { error } " )
        ุฅุนุงุฏุฉ  ุงูุฑูุจู . __del__ ()
    ุจุงุณุชุซูุงุก  InvalidGitRepositoryError  ูุฎุทุฃ  : _
        ุฅุฐุง ูุงู  conf  ูู  ูุง ุดูุก :
            ุนูุฏุฉ  ุงูุชุธุงุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ (
                f "** โข ููุฃุณู ุงููุฌูุฏ { error } ูุง ูุจุฏุฉ ุงูู ุฎุงุต ูุณูุฑุณ ูุนูู. \ n ููููู ุงุตูุงุญ ูุฐู ุงููุดููุฉ ุจุฃุฑุณุงู.` .ุชุญุฏูุซ ุงูุชูุตูุจ` "
            )

        ุงูุฑูุจู  =  ุงูุฑูุจู . ุงูุญุฑู ุงูุฃูู ()
        ุงูุฃุตู  =  ุงูุฑูุจู . create_remote ( "upstream" ุ off_repo )
        ุงูุฃุตู . ุฌูุจ ()
        force_update  =  ุตุญูุญ
        ุงูุฑูุจู . create_head ( "master" ุ origin . refs . master )
        ุงูุฑูุจู . ุฑุคุณุงุก . ุณูุฏ . set_tracking_branch ( ุงูุฃุตู . ุงููุฑุงุฌุน . master )
        ุงูุฑูุจู . ุฑุคุณุงุก . ุณูุฏ . ุงูุฎุฑูุฌ ( ุตุญูุญ )
    ac_br  =  ุงูุฑูุจู . active_branch . ุงุณู
    ุฅุฐุง ูุงู  ac_br  ! =  UPSTREAM_REPO_BRANCH :
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ (
            "** [ุงูุชุญุฏูุซ]: ** \ n "
            ู "ูุจุฏู ุฃูู ุชุณุชุฎุฏู ูุฑุน ุฃุฎุฑ: ( { ac_br } )."
            "ูู ูุฐู ุงูุญุงูุฉ ุบูุฑ ูุงุฏุฑ ุนูู ุงูุชุญุฏูุซ"
            "ููููุงุช ุงููุฑุน ุงูุฎุงุต ุจู."
            "ูุฑุฌู ุงุณุชุฎุฏุงู ุงููุฑุบ ุงูุงุณุงุณู"
        )
        ุฅุนุงุฏุฉ  ุงูุฑูุจู . __del__ ()
    ูุน  ุณูุงู ุงููุต . ููุน ( BaseException ):
        ุงูุฑูุจู . create_remote ( "upstream" ุ off_repo )
    ups_rem  =  ุฑูุจู . ุจุนูุฏ ( "ุงูููุจุน" )
    ups_rem . ุฅุญุถุงุฑ ( ac_br )
    changelog  =  await  gen_chlog ( repo ุ f "HEAD..upstream / { ac_br } " )
    # ุญุงูุฉ ุฎุงุตุฉ ูููุดุฑ
    ุฅุฐุง ูุงู  ุงูุชุบููุฑ ==  "  "  ูููุณ  force_update : 
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ (
            " \ n ** โข ุณูุฑุณ ุจูุงูุซูู ูุญุฏุซ ุงูู ุฃุฎุฑ ุงุตุฏุงุฑ **"
            f "** \ n ุงูููุฑุน: { UPSTREAM_REPO_BRANCH } ** \ n "
        )
        ุฅุนุงุฏุฉ  ุงูุฑูุจู . __del__ ()
    if  conf  ==  "  " ูููุณ  force_update : 
        ูู ุงูุชุธุงุฑ  print_changelogs ( ุญุฏุซ ุ ac_br ุ ุณุฌู ุงูุชุบููุฑ )
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุญุฐู ()
        ุนูุฏุฉ  ุงูุชุธุงุฑ  ุงูุญุฏุซ . ุฑุฏ (
            f "** โข ุงุฑุณู **` { cmdhd } ุญุฏุซ` ูุชุญุฏูุซ ุณูุฑุณ ุจูุงูุซูู "
        )

    ุฅุฐุง  ูุฑุถ_ุงูุชุญุฏูุซ :
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุนุฏูู ( "** โข ุงูุชุญุฏูุซ ุงูุงุฌุจุงุฑู ุงูู ุงุฎุฑ ุงุตุฏุงุฑ ุงูุชุธุฑ ููููุง **" )
    ุฅุฐุง  ุฃุณููุท  ==  "ุงูุงู" :
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( "** โข ุฌุงุฑ ุชุญุฏูุซ ุณูุฑุณ ุจูุงูุซูู ุฃูุชุธุฑ ููููุง **" )
        ูู ุงูุชุธุงุฑ  update_bot ( event ุ repo ุ ups_rem ุ ac_br )
    ูุนูุฏ


@ jmub . ar_cmd (
    ููุท = "ุญุฏุซ $" ุ
)
ุบูุฑ ูุชุฒุงูู  def  ุงูููุจุน ( ุญุฏุซ ):
    ุฅุฐุง ูุงู  ENV :
        ุฅุฐุง ูุงูุช  HEROKU_API_KEY ุจูุง  ุฃู ูู ุชูู HEROKU_APP_NAME ุจูุง :     
            ุงูุนูุฏุฉ  ูู ุงูุชุธุงุฑ  edit_or_reply (
                ุญุฏุซ _ "** โข
            )
     ูุธุงู elif . ุงููุณุงุฑ . ููุฌูุฏ ( "config.py" ):
        ุงูุนูุฏุฉ  ุชูุชุธุฑ  edit_delete (
            ุญุฏุซ _
            f "** โข ุงูุช ุชุณุชุฎุฏู ุงูุชูุตูุจ ูุฏููุง ูุฑุฌู ุงุฑุณุงู ุงูุฑ **` { cmdhd } ุญุฏุซ` " ุ
        )
    event  =  wait  edit_or_reply ( event ุ "** - ุฌุงุฑ ุฌูุจ ูููุงุช ุงูุณูุฑุณ ูุฑุฌู ุงูุงูุชุธุงุฑ ููููุง **" )
    off_repo  =  "https://github.com/ZEKO124/gibthon"
    ูุธุงู ุงูุชุดุบูู . chdir ( "/ ุงูุชุทุจูู" )
    ุฌุฑุจ :
        txt  =  "** โข ููุฏ ุญุฏุซ ุฎุทุฃ ุงุซูุงุก ุงูุชุญุฏูุซ **"  +  "** ููุฏ ุญุฏุซ ุฎุทุฃ ูุง ** \ n "

        ุงูุฑูุจู  =  ุงูุฑูุจู ()
    ุจุงุณุชุซูุงุก  NoSuchPathError  ูุฎุทุฃ  : _
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( f " { txt } \ n โข ุงููุฌูุฏ   { error } ูู ูุชู ุงูุนุซูุฑ ุนููู" )
        ุฅุนุงุฏุฉ  ุงูุฑูุจู . __del__ ()
    ุจุงุณุชุซูุงุก  GitCommandError  ูุฎุทุฃ  : _
        ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( f " { txt } \ n โข ูุดู ูุดู ุงูุฎุทุง: { error } " )
        ุฅุนุงุฏุฉ  ุงูุฑูุจู . __del__ ()
    ุจุงุณุชุซูุงุก  InvalidGitRepositoryError :
        ุงูุฑูุจู  =  ุงูุฑูุจู . ุงูุญุฑู ุงูุฃูู ()
        ุงูุฃุตู  =  ุงูุฑูุจู . create_remote ( "upstream" ุ off_repo )
        ุงูุฃุตู . ุฌูุจ ()
        ุงูุฑูุจู . create_head ( "master" ุ origin . refs . master )
        ุงูุฑูุจู . ุฑุคุณุงุก . ุณูุฏ . set_tracking_branch ( ุงูุฃุตู . ุงููุฑุงุฌุน . master )
        ุงูุฑูุจู . ุฑุคุณุงุก . ุณูุฏ . ุงูุฎุฑูุฌ ( ุตุญูุญ )
    ูุน  ุณูุงู ุงููุต . ููุน ( BaseException ):
        ุงูุฑูุจู . create_remote ( "upstream" ุ off_repo )
    ac_br  =  ุงูุฑูุจู . active_branch . ุงุณู
    ups_rem  =  ุฑูุจู . ุจุนูุฏ ( "ุงูููุจุน" )
    ups_rem . ุฅุญุถุงุฑ ( ac_br )
    ุงูุชุธุฑ  ุงูุญุฏุซ . ุชุญุฑูุฑ ( "** โข ุฌุงุฑ ุงูุงู ุงูุชุญุฏูุซ ุฃูุชุธุฑ ููููุง **" )
    ูู ุงูุชุธุงุฑ  ุงููุดุฑ ( event ุ repo ุ ups_rem ุ ac_br ุ txt )
ุชุฐููู
ุญููู ุงููุดุฑ ยฉ ูุนุงู 2023 ูุดุฑูุฉ GitHubุ Inc.
ุงูุชููู ูู ุงูุชุฐููู
ุดุฑูุท
ุฎุตูุตูุฉ
ุญูุงูุฉ
ุญุงูุฉ
ุงููุณุชูุฏุงุช
ุงุชุตู ุจู GitHub
ุงูุชุณุนูุฑ
API
ุชูุฑูู
ูุฏููุฉ
ุนู
